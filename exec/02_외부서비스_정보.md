# 외부 서비스 정보

## 1. AWS S3

- 목적: 프로필 이미지 등 파일 저장
- 콘솔 URL: https://console.aws.amazon.com/s3
- 사용 리전: ap-northeast-2
- 버킷명 예: runnity-profile-bucket
- 필요한 권한:
  - s3:PutObject
  - s3:GetObject
  - s3:DeleteObject
- 애플리케이션 설정 위치:
  - 환경변수: `AWS_BUCKET`, `AWS_REGION`, `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`
  - 설정 파일:
    - `backend/runnity/src/main/resources/application.yml`

## 2. Google OAuth (소셜 로그인 쓴 경우만)

- 목적: Google 계정 로그인
- 콘솔 URL: https://console.cloud.google.com
- 생성 항목:
  - OAuth Consent Screen
  - OAuth Client ID (Web)
- Redirect URI:
  - `https://runnity.p-e.kr/api/v1/auth/google/callback`
- 애플리케이션 설정:
  - 환경변수: `GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET`
  - 설정 파일: `application-oauth.yml` 등

## 3. Kakao OAuth

- 목적: 카카오 계정 로그인
- 콘솔 URL: https://developers.kakao.com
- Redirect URI:
  - `https://runnity.p-e.kr/api/v1/auth/kakao/callback`
- 환경변수:
  - `KAKAO_REST_API_KEY`, `KAKAO_CLIENT_SECRET`

## 4. Google Cloud Text-to-Speech (AI 서버)

- 목적: 하이라이트 음성 TTS
- 콘솔: Google Cloud Platform → Text-to-Speech API
- 서비스 계정 키:
  - JSON 키 파일: `google-tts-key.json`
  - 서버 위치: `~/llm-app/google-tts-key.json`
  - Docker volume: `./google-tts-key.json:/app/google-tts-key.json:ro`
- 환경변수:
  - `GOOGLE_APPLICATION_CREDENTIALS=/app/google-tts-key.json`
  
## 5. Firebase Cloud Messaging (FCM)

- 목적: 챌린지 시작 전 알림, 하이라이트 알림 등 **모바일 Push 알림 전송**

# 프론트 외부 서비스
## 6. Kakao Map API

- 목적: 러닝 코스/챌린지 위치를 **지도에 표시**하고, 주변 지점 정보 제공

## 7. Google OAuth

- 목적: 프론트에서 Google 계정으로 **원클릭 로그인 UX 제공**

## 8. Kakao OAuth 

- 목적: 카카오톡/카카오 계정을 활용한 **간편 로그인 UX 제공**

## 9. OpenWeatherMap API

- 목적: 챌린지/러닝 일정에 맞춰 **날씨 정보(온도, 강수 가능성 등)를 제공**하여 사용자에게 러닝 환경 안내


# Android / Wear OS 공통

*   OS: Android 13/14 기반 (compileSdk 36)
    
*   언어: Kotlin (JVM Target 11)
    
*   UI 프레임워크: Jetpack Compose
    
*   비동기 처리: Kotlin Coroutines, Flow
    
*   구조: MVVM + Clean-ish 구조 (ViewModel + Repository)
    
*   네트워크
    
    *   REST API: Retrofit + OkHttp + Logging Interceptor
        
    *   WebSocket: OkHttp WebSocket + StompProtocolAndroid (STOMP)
        아래는 **굵기/색/특수 포맷 다 제거하고**,  
\*\*문단 + 들여쓰기 + 리스트만 깔끔하게 정리한 “복사하기 좋은 버전”\*\*이야.  
그냥 바로 문서, 노션, 워드 등에 붙여넣기 하면 됨.

* * *

Android / Wear OS 공통

*   OS: Android 13/14 기반 (compileSdk 36)
    
*   언어: Kotlin (JVM Target 11)
    
*   UI 프레임워크: Jetpack Compose
    
*   비동기 처리: Kotlin Coroutines, Flow
    
*   구조: MVVM + Clean-ish 구조 (ViewModel + Repository)
    
*   네트워크
    
    *   REST API: Retrofit + OkHttp + Logging Interceptor
        
    *   WebSocket: OkHttp WebSocket + StompProtocolAndroid (STOMP)
        
*   JSON 파싱: Gson
    
*   이미지 로딩: Coil
    

Android 앱 모듈(app)

*   minSdk: 28
    
*   targetSdk: 36
    
*   사용 기술
    
    *   Jetpack Compose Material3
        
    *   Navigation Compose
        
    *   Location API (com.google.android.gms:play-services-location)
        
    *   Exoplayer / Media3 UI (androidx.media3:media3-exoplayer, media3-ui)
        
    *   EncryptedSharedPreferences (토큰 암호화 저장)
        
    *   Kakao Maps SDK
        
    *   Google / Kakao 소셜 로그인
        
    *   FCM: firebase-messaging
        
    *   Splash Screen API
        
    *   WebSocket (OkHttp)
        
    *   STOMP + RxJava2 (브로드캐스트/챌린지 실시간 연동)
        
    *   Timber 로깅
        
    *   ExifInterface (이미지 회전 처리)
        

Wear OS 모듈(wear)

*   minSdk: 30
    
*   targetSdk: 36
    
*   사용 기술
    
    *   Jetpack Compose for WearOS
        
    *   Google Play Services Wearable (폰/워치 데이터 레이어 통신)
        
    *   Health Services Client (실시간 심박/페이스/거리 센서 데이터)
        
    *   Guava (TimeUnit, RateLimiter, ListenableFuture 등)
        
*   주요 연동 기능
    
    *   /session/control: 폰 ↔ 워치 세션 제어(Start/Stop/Pause/Resume)
        
    *   /metrics/update: 워치 → 폰 실시간 메트릭 전송
        

3.  GitLab 소스 클론
    

*   Git checkout frontend
    

4.  주요 환경 변수
    

*   BASE\_URL = [https://runnity.p-e.kr/](https://runnity.p-e.kr/)
    
*   KAKAO\_MAP\_KEY = …
    
*   GOOGLE\_CLIENT\_ID = …
    
*   KAKAO\_CLIENT\_ID = …
    
*   WEATHER\_API\_KEY = …
    

5.  빌드 & 실행 방법
    

5-1. Android (폰 앱)  
로컬 실행

1.  Android Studio에서 app 모듈을 Run Configuration으로 선택
    
2.  안드로이드 폰 또는 에뮬레이터를 선택 후 실행
    
3.  최초 실행 시 요청되는 권한
    
    *   위치 권한(정확한 위치 / 대략적 위치)
        
    *   알림 권한(Android 13+)
        
    *   활동 인식/센서 권한(필요 시)
        

릴리즈 빌드

1.  Android Studio 메뉴  
    Build → Generate App Bundles or APKs → Generate APKs
    

5-2. Wear OS (워치 앱)  
로컬 실행

1.  Wear OS 에뮬레이터를 생성하거나 실제 워치 기기를 Android Studio에 연결
    
2.  Run Configuration에서 wear 모듈을 선택해 실행
    

폰과 워치 페어링

*   스마트폰에 Wear OS 앱 설치
    
*   워치를 폰과 페어링
    
*   이후 Runnity 워치 앱을 설치해 데이터 동기화 테스트 진행
    

* * *

필요하면 이 문서를 \*\*“포팅 매뉴얼 전체 문서 포맷”\*\*에 맞춰 합쳐줄 수도 있어.
*   JSON 파싱: Gson
    
*   이미지 로딩: Coil
    

Android 앱 모듈(app)

*   minSdk: 28
    
*   targetSdk: 36
    
*   사용 기술
    
    *   Jetpack Compose Material3
        
    *   Navigation Compose
        
    *   Location API (com.google.android.gms:play-services-location)
        
    *   Exoplayer / Media3 UI (androidx.media3:media3-exoplayer, media3-ui)
        
    *   EncryptedSharedPreferences (토큰 암호화 저장)
        
    *   Kakao Maps SDK
        
    *   Google / Kakao 소셜 로그인
        
    *   FCM: firebase-messaging
        
    *   Splash Screen API
        
    *   WebSocket (OkHttp)
        
    *   STOMP + RxJava2 (브로드캐스트/챌린지 실시간 연동)
        
    *   Timber 로깅
        
    *   ExifInterface (이미지 회전 처리)
        

Wear OS 모듈(wear)

*   minSdk: 30
    
*   targetSdk: 36
    
*   사용 기술
    
    *   Jetpack Compose for WearOS
        
    *   Google Play Services Wearable (폰/워치 데이터 레이어 통신)
        
    *   Health Services Client (실시간 심박/페이스/거리 센서 데이터)
        
    *   Guava (TimeUnit, RateLimiter, ListenableFuture 등)
        
*   주요 연동 기능
    
    *   /session/control: 폰 ↔ 워치 세션 제어(Start/Stop/Pause/Resume)
        
    *   /metrics/update: 워치 → 폰 실시간 메트릭 전송
        

3.  GitLab 소스 클론
    

*   Git checkout frontend
    

4.  주요 환경 변수
    

*   BASE\_URL = [https://runnity.p-e.kr/](https://runnity.p-e.kr/)
    
*   KAKAO\_MAP\_KEY = …
    
*   GOOGLE\_CLIENT\_ID = …
    
*   KAKAO\_CLIENT\_ID = …
    
*   WEATHER\_API\_KEY = …
    

5.  빌드 & 실행 방법
    

5-1. Android (폰 앱)  
로컬 실행

1.  Android Studio에서 app 모듈을 Run Configuration으로 선택
    
2.  안드로이드 폰 또는 에뮬레이터를 선택 후 실행
    
3.  최초 실행 시 요청되는 권한
    
    *   위치 권한(정확한 위치 / 대략적 위치)
        
    *   알림 권한(Android 13+)
        
    *   활동 인식/센서 권한(필요 시)
        

릴리즈 빌드

1.  Android Studio 메뉴  
    Build → Generate App Bundles or APKs → Generate APKs
    

5-2. Wear OS (워치 앱)  
로컬 실행

1.  Wear OS 에뮬레이터를 생성하거나 실제 워치 기기를 Android Studio에 연결
    
2.  Run Configuration에서 wear 모듈을 선택해 실행
    

폰과 워치 페어링

*   스마트폰에 Wear OS 앱 설치
    
*   워치를 폰과 페어링
    
*   이후 Runnity 워치 앱을 설치해 데이터 동기화 테스트 진행
    